#!/usr/bin/env python3
import hashlib
import os

for x in os.scandir("."):
    if x.is_file() and x.path.lower().endswith(".md5"):
        with open(x.path, "r") as file:
            for line in file:
                expected_hash, filename = line.strip().split()
                with open(filename, "rb") as file_to_check:
                    data = file_to_check.read()
                computed_hash = hashlib.md5(data).hexdigest()
                if computed_hash == expected_hash:
                    print(f"{filename}:  OK")
                else:
                    print(f"{filename}:  FAILED")
